local player = game.Players.LocalPlayer
local runService = game:GetService("RunService")
local camera = game.Workspace.CurrentCamera
local ballsFolder = game.Workspace:WaitForChild("Balls")
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.CoreGui

local toggleButton = Instance.new("TextButton")
toggleButton.Parent = screenGui
toggleButton.Size = UDim2.new(0, 150, 0, 50)
toggleButton.Position = UDim2.new(0.5, -75, 0.1, 0)
toggleButton.Text = "God Mode: OFF"
toggleButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
toggleButton.TextSize = 18
toggleButton.Font = Enum.Font.SourceSansBold
toggleButton.Active = true
toggleButton.Draggable = true

local godMode = false

toggleButton.MouseButton1Click:Connect(function()
    godMode = not godMode
    toggleButton.Text = godMode and "Thank you for using my script :)" or "God Mode: OFF"
    toggleButton.BackgroundColor3 = godMode and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
end)

local function getLatestBall()
    local latestBall = nil
    for _, ball in ipairs(ballsFolder:GetChildren()) do
        if ball:IsA("BasePart") then
            latestBall = ball
        end
    end
    return latestBall
end

local function setupCharacter()
    local character = player.Character or player.CharacterAdded:Wait()
    local hrp = character:WaitForChild("HumanoidRootPart")

    local orbitRadius = 40
    local orbitSpeed = 2000
    local cameraDistance = 0
    local cameraHeight = 150

    runService.RenderStepped:Connect(function()
        if godMode then
            local ball = getLatestBall()
            if ball and hrp then
                local distance = (hrp.Position - ball.Position).Magnitude

                if distance < 25 then
                    local direction = (hrp.Position - ball.Position).Unit
                    local targetPosition = ball.Position + (direction * 75)
                    hrp.CFrame = CFrame.new(targetPosition, ball.Position)
                    return
                end

                local time = tick()

                local xOffset = orbitRadius * math.cos(time * orbitSpeed)
                local zOffset = orbitRadius * math.sin(time * orbitSpeed)
                local yOffset = ball.Position.Y

                local targetPosition = Vector3.new(ball.Position.X + xOffset, yOffset, ball.Position.Z + zOffset)

                hrp.CFrame = CFrame.new(targetPosition, ball.Position)

                local cameraPosition = ball.Position + Vector3.new(0, cameraHeight, cameraDistance)
                camera.CFrame = CFrame.new(cameraPosition, ball.Position)
            end
        end
    end)
end

player.CharacterAdded:Connect(function()
    setupCharacter()
end)

setupCharacter()
